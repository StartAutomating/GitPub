
name: OnIssueChanged
on: 
  issues: 
  workflow_dispatch: 
jobs: 
  RunGitPub: 
    runs-on: ubuntu-latest
    if: ${{ success() }}
    steps: 
      - name: Check out repository
        uses: actions/checkout@v2
      - name: Use GitPub Action
        uses: StartAutomating/GitPub@main
        id: GitPub
        with: 
          TargetBranch: edits-$([DateTime]::Now.ToString("o").Replace(":","-"))
          CommitMessage: Posting with GitPub [skip ci]
          PublishParameters: |
            {
                "Get-GitPubIssue": {
                    "UserName": "StartAutomating",
                    "Repository": "GitPub",
                    "IssueState": "All"
                },
                "Get-GitPubRelease": {
                    "UserName": "StartAutomating",
                    "Repository": "GitPub"
                },
                "Publish-GitPubJekyll": {
                    "OutputPath": "docs/_posts"
                }
            }

